name: Build bookmark.js

on:
  push:
    branches: [ master ]

jobs:

  build_bookmark:
    runs-on: ubuntu-latest

    steps:
    
    - name: Checkout
      uses: actions/checkout@master
    
    - name: Create bookmark file by copying source
      run: |
          cp "source.js" "bookmark.js"
        
    - name: Search and replace newlines, place output in bookmark
      run: |
        tr -d '\n' < source.js > bookmark.js
        
    - name: Commit
      uses: stefanzweifel/git-auto-commit-action@v4
      with:
        commit_message: Copy `source.js`
